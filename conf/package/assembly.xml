<?xml version="1.0" encoding="UTF-8"?>
<assembly>

    <!-- 指定id，${project.build.finalName}-${id}.jar -->
    <id></id>

    <!-- 打包的类型，如果有N个，将会打N个类型的包 -->
    <formats>
        <format>tar.gz</format>
        <format>zip</format>
    </formats>

    <!-- 打 zip 设置为 true 时，会在 zip 包中生成一个根目录，打 dir 时设置为 false 少层目录 -->
    <includeBaseDirectory>true</includeBaseDirectory>

    <fileSets>
        <!--
            755->即用户具有读/写/执行权限，组用户和其它用户具有读写权限；
            644->即用户具有读写权限，组用户和其它用户具有只读权限；
        -->
        <!-- 将项目${build.outputDirectory} (project/target/classes)下的脚本打包到bin目录中 -->
        <fileSet>
            <directory>${build.outputDirectory}</directory>
            <!-- <lineEnding>windows</lineEnding> -->
            <outputDirectory>bin</outputDirectory>
            <fileMode>755</fileMode>
            <includes>
                <include>*.cmd</include>
            </includes>
        </fileSet>
        <fileSet>
            <directory>${build.outputDirectory}</directory>
            <lineEnding>unix</lineEnding>
            <outputDirectory>bin</outputDirectory>
            <fileMode>755</fileMode>
            <includes>
                <include>*.sh</include>
            </includes>
        </fileSet>

        <!-- 将项目启动jar打包到target目录中，${build.directory} (project/target) -->
        <fileSet>
            <directory>${build.directory}</directory>
            <outputDirectory>target</outputDirectory>
            <fileMode>755</fileMode>
            <includes>
                <include>${project.build.finalName}.jar</include>
            </includes>
        </fileSet>

        <!-- 复制lib，${basedir} (project) -->
        <fileSet>
            <directory>${basedir}/lib</directory>
            <outputDirectory>lib</outputDirectory>
            <excludes>
                <exclude>*.dll</exclude>
                <exclude>*.so</exclude>
            </excludes>
        </fileSet>

    </fileSets>

    <!-- 依赖的jar包copy到lib目录下 -->
    <!--    <dependencySets>-->
    <!--        <dependencySet>-->
    <!--            <outputDirectory>lib</outputDirectory>-->
    <!--        </dependencySet>-->
    <!--    </dependencySets>-->

</assembly>